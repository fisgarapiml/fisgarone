{% extends 'base.html' %}

{% block title %}Painel Financeiro{% endblock %}
{% block page_title %}Painel Financeiro{% endblock %}

{% block extra_css %}
<link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@300;400;500;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
<style>
    /* Cards de Dashboard */
    .dashboard-cards {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
        gap: 1.5rem;
        margin-bottom: 2rem;
    }

    .dashboard-card {
        background: var(--card-bg);
        border: 1px solid var(--border);
        border-radius: 8px;
        padding: 1.5rem;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .dashboard-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 3px;
        background: linear-gradient(90deg, var(--neon-blue), var(--neon-purple));
    }

    .dashboard-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 10px 15px rgba(0, 0, 0, 0.2),
                    0 0 20px rgba(0, 136, 255, 0.1);
    }

    .card-header {
        display: flex;
        align-items: center;
        margin-bottom: 1rem;
    }

    .card-icon {
        width: 48px;
        height: 48px;
        border-radius: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        margin-right: 1rem;
        font-size: 1.3rem;
        background: rgba(0, 102, 255, 0.1);
        color: var(--neon-blue);
        box-shadow: 0 0 10px rgba(0, 136, 255, 0.2);
    }

    .financeiro .card-icon {
        background: rgba(0, 204, 153, 0.1);
        color: var(--neon-green);
        box-shadow: 0 0 10px rgba(0, 255, 170, 0.2);
    }

    .estoque .card-icon {
        background: rgba(123, 45, 255, 0.1);
        color: var(--neon-purple);
        box-shadow: 0 0 10px rgba(160, 0, 255, 0.2);
    }

    .vendas .card-icon {
        background: rgba(255, 153, 0, 0.1);
        color: #ff9900;
        box-shadow: 0 0 10px rgba(255, 153, 0, 0.2);
    }

    .produtos .card-icon {
        background: rgba(255, 45, 123, 0.1);
        color: var(--neon-pink);
        box-shadow: 0 0 10px rgba(255, 0, 170, 0.2);
    }

    .card-title {
        font-size: 1rem;
        font-weight: 500;
        color: var(--text);
        margin-bottom: 0.2rem;
    }

    .card-subtitle {
        font-size: 0.8rem;
        color: var(--text-muted);
    }

    .card-value {
        font-size: 1.8rem;
        font-weight: 600;
        margin: 1rem 0;
        color: var(--text);
    }

    .financeiro .card-value {
        color: var(--neon-green);
        text-shadow: 0 0 5px rgba(0, 255, 170, 0.3);
    }

    .estoque .card-value {
        color: var(--neon-purple);
        text-shadow: 0 0 5px rgba(160, 0, 255, 0.3);
    }

    .vendas .card-value {
        color: #ff9900;
        text-shadow: 0 0 5px rgba(255, 153, 0, 0.3);
    }

    .produtos .card-value {
        color: var(--neon-pink);
        text-shadow: 0 0 5px rgba(255, 0, 170, 0.3);
    }

    .card-description {
        font-size: 0.9rem;
        color: var(--text-muted);
        line-height: 1.5;
        margin-bottom: 1rem;
    }

    .card-footer {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-top: 1rem;
        font-size: 0.8rem;
    }

    .card-trend {
        display: flex;
        align-items: center;
        color: var(--neon-green);
        text-shadow: 0 0 5px rgba(0, 255, 170, 0.3);
    }

    .card-trend.down {
        color: #ff4757;
        text-shadow: 0 0 5px rgba(255, 71, 87, 0.3);
    }

    .card-trend i {
        margin-right: 0.3rem;
    }

    .card-link {
        color: var(--neon-blue);
        text-decoration: none;
        display: flex;
        align-items: center;
        transition: all 0.3s ease;
        font-weight: 500;
        text-shadow: 0 0 5px rgba(0, 136, 255, 0.3);
    }

    .card-link:hover {
        text-decoration: underline;
        color: white;
    }

    .card-link i {
        margin-left: 0.3rem;
        font-size: 0.8rem;
    }

    /* Responsividade */
    @media (max-width: 768px) {
        .dashboard-cards {
            grid-template-columns: 1fr 1fr;
        }
    }

    @media (max-width: 576px) {
        .dashboard-cards {
            grid-template-columns: 1fr;
        }
    }
</style>
{% endblock %}

{% block content %}
    <!-- Cards de Dashboard -->
    <div class="dashboard-cards">
        <div class="dashboard-card financeiro">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-file-invoice-dollar"></i>
                </div>
                <div>
                    <h3 class="card-title">Financeiro</h3>
                    <p class="card-subtitle">Controle financeiro</p>
                </div>
            </div>

            <div class="card-value">R$ 124,568.90</div>

            <p class="card-description">
                Contas a pagar, receber e relatórios financeiros integrados.
            </p>

            <div class="card-footer">
                <div class="card-trend">
                    <i class="fas fa-arrow-up"></i>
                    <span>12.5% este mês</span>
                </div>
                <a href="#" class="card-link">
                    Ver detalhes
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>

        <div class="dashboard-card estoque">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-boxes"></i>
                </div>
                <div>
                    <h3 class="card-title">Estoque</h3>
                    <p class="card-subtitle">Gestão de inventário</p>
                </div>
            </div>

            <div class="card-value">1,248 itens</div>

            <p class="card-description">
                Controle de entradas, saídas e inventário em tempo real.
            </p>

            <div class="card-footer">
                <div class="card-trend down">
                    <i class="fas fa-arrow-down"></i>
                    <span>3.2% este mês</span>
                </div>
                <a href="#" class="card-link">
                    Ver detalhes
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>

        <div class="dashboard-card vendas">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-shopping-cart"></i>
                </div>
                <div>
                    <h3 class="card-title">Vendas</h3>
                    <p class="card-subtitle">Performance comercial</p>
                </div>
            </div>

            <div class="card-value">R$ 89,245.60</div>

            <p class="card-description">
                Integração com marketplaces, pedidos e gestão de clientes.
            </p>

            <div class="card-footer">
                <div class="card-trend">
                    <i class="fas fa-arrow-up"></i>
                    <span>8.7% este mês</span>
                </div>
                <a href="#" class="card-link">
                    Ver detalhes
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>

        <div class="dashboard-card produtos">
            <div class="card-header">
                <div class="card-icon">
                    <i class="fas fa-tags"></i>
                </div>
                <div>
                    <h3 class="card-title">Produtos</h3>
                    <p class="card-subtitle">Catálogo completo</p>
                </div>
            </div>

            <div class="card-value">578 SKUs</div>

            <p class="card-description">
                Cadastro, edição e gestão de produtos com imagens e preços.
            </p>

            <div class="card-footer">
                <div class="card-trend">
                    <i class="fas fa-arrow-up"></i>
                    <span>5.3% este mês</span>
                </div>
                <a href="#" class="card-link">
                    Ver detalhes
                    <i class="fas fa-arrow-right"></i>
                </a>
            </div>
        </div>
    </div>
{% endblock %}

{% block extra_js %}
<script>
    // Alternador de tema simplificado
    document.addEventListener('DOMContentLoaded', function() {
        // Verifica preferência do usuário
        const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
        const savedTheme = localStorage.getItem('theme');

        // Aplica tema salvo ou preferência do sistema
        if (savedTheme === 'light' || (!savedTheme && !prefersDark)) {
            setLightTheme();
        } else {
            setDarkTheme();
        }

        function setLightTheme() {
            document.documentElement.style.setProperty('--primary', 'var(--primary-light)');
            document.documentElement.style.setProperty('--background', 'var(--background-light)');
            document.documentElement.style.setProperty('--card-bg', 'var(--card-bg-light)');
            document.documentElement.style.setProperty('--text', 'var(--text-light)');
            localStorage.setItem('theme', 'light');
        }

        function setDarkTheme() {
            document.documentElement.style.setProperty('--primary', 'var(--primary-dark)');
            document.documentElement.style.setProperty('--background', 'var(--background-dark)');
            document.documentElement.style.setProperty('--card-bg', 'var(--card-bg-dark)');
            document.documentElement.style.setProperty('--text', 'var(--text-dark)');
            localStorage.setItem('theme', 'dark');
        }
    });
</script>
{% endblock %}